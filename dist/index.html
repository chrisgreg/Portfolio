<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <title>Chris Gregori</title>
    <meta name="description" content="">
  
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400|Lato" rel="stylesheet">
  
    <script  src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script  src="js/scripts.js" type="text/javascript"></script>
  </head>

  <body>
    <div class="container full-height">
      <div class="row full-size-row">
        <div class="side-bar three columns">
          <div>
            <div class="blurb">
              <div class="image">
                <img src="images/avatar.png" />
              </div>
              <div class="details">
                <h1>Chris Gregori</h1>
                <h2>Full-Stack Software Engineer</h2>
                <h3>
                  <div class="type-wrap">
                    <div id="typed-strings"></div>
                    <span id="typed" style="white-space:pre;"></span>
                  </div>
                </h3>
              </div>
            </div>
            <div class="links">
              <ul>
                <li><a href="index.html">Projects</a></li>
                <li><a href="experience.html">Experience</a></li>
                <li><a href="education.html">Education</a></li>
                <li><a href="photography.html">Photography</a></li>
                <li><a href=https://medium.com/@chrisgregori/>Blog</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="eight columns content">
          <div id="projects" class="primary-content projects eight columns">
          
          	<h1>Projects, Apps & Code</h1>
            <div class="six columns">
              <h2>Github Projects</h2>
              <ul class="github-projects">
              </ul>
            </div>
          
          </div>
          
          
          <script>
            var githubProjects = document.querySelector('.github-projects');
            if (typeof(githubProjects) != 'undefined' && githubProjects != null){
              populateGithubProjects();
            }
          
            function populateGithubProjects() {
              const root = 'https://api.github.com';
          
              fetch(root + '/users/chrisgreg/repos')
                .then(getRepos)
                .then(renderRepos);
          
              function getRepos(response) {
                return response.json().then((json) => {
                  var repos = formatRepos(json);
                  return repos;
                })
              }
          
              function renderRepos(repos) {
                for(var i = 0; i < repos.length; ++i) {
                  var element = document.createElement('li');
                  element.innerHTML = '<div><h4 class="title">' + repos[i].name + '</h4><div class="description">' + repos[i].description + '</div></div>';
                  githubProjects.appendChild(element);
                }
              }
          
              function formatRepos(json) {
                return json.map(repo => {
                  return {
                    id: repo.id,
                    created_date: repo.created_at,
                    url: repo.url,
                    description: repo.description,
                    name: repo.name,
                    stars: repo.stargazers_count,
                    watchers: repo.watchers
                  }
                }).sort((a,b) => {
                  return new Date(b.created_date) - new Date(a.created_date);
                })
              }
            }
          
          
          
          
          </script>
        </div>
      </div>


    </div>
  </body>

</html>
