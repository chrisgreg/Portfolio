<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <title>Chris Gregori</title>
    <meta name="description" content="">
  
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400|Lato|Josefin+Slab" rel="stylesheet">
  
    <script  src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script  src="js/scripts.js" type="text/javascript"></script>
  
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  </head>

  <body>
    <div class="container full-height">
      <div class="row full-size-row">
        <div class="side-bar twelve columns">
          <div>
            <div class="blurb">
              <div class="image">
                <img src="images/avatar.png" />
              </div>
              <div class="details">
                <h1>Chris Gregori</h1>
                <h2>Full-Stack Software Engineer</h2>
                <h3>
                  <div class="type-wrap">
                    <div id="typed-strings"></div>
                    <span id="typed" style="white-space:pre;"></span>
                  </div>
                </h3>
              </div>
            </div>
          </div>
          <div class="main-info">
            <div class="about">
              <div class="sub-area">
                <h3>Experience</h3>
                <ul>
                    <li>
                      <h5 class="with-sub-heading">Net-a-Porter - Associate Software Engineer</h5>
                      <h6><b>November 2015 - ...</b></h6>
                    </li>
                    <li>
                      <h5 class="with-sub-heading">Net-a-Porter - Graduate Software Engineer</h5>
                      <h6><b>September 2014 - November 2015</b></h6>
                    </li>
                    <li>
                      <h5 class="with-sub-heading">Thomson Reuters - Junior Software Engineer</h5>
                      <h6><b>July 2012 - August 2013</b></h6>
                    </li>
                  <li>
                    <h5><a href="education.html">More Information</a></h5>
                  </li>
                </ul>
              </div>
              <div class="sub-area">
                <h3>Education</h3>
                <ul>
                  <li>
                    <h5 class="with-sub-heading">Software Engineering BSc</h5>
                    <h6>1st Class Honours - City University London</h6>
                  </li>
                  <li>
                    <h5><a href="education.html">More Information</a></h5>
                  </li>
                </ul>
              </div>
            </div>

            <div class="about">
              <div class="sub-area">
                <h3>Projects</h3>
                <ul>
                  <li>
                    <h5><a href="">Sites, Apps & Code</a></h5>
                  </li>
                  <li>
                    <h5 class="github-projects-title">Github Projects - 0</h5>
                    <ul class="github-projects">

                    </ul>
                  </li>
                </ul>
              </div>


              <div class="sub-area">
                <h3>Photography</h3>
                <ul>
                  <li>
                    <h5><a href="https://www.flickr.com/photos/143093443@N07/">Flickr</a></h5>
                  </li>
                  <li>
                    <h5><a href="https://www.instagram.com/chrisgregori__/">Instagram</a></h5>
                  </li>
                  <li>
                    <h5><a href="https://society6.com/chrisgregori">Society6</a></h5>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div>
            <ul class="social-media">
              <li><a href=mailto:chrisgreg23@googlemail.com><img src="images/svg-icons/57-outlook.svg"></a></li>
              <li><a href=http://www.github.com/chrisgreg><img src="images/svg-icons/41-github.svg"></a></li>
              <li><a href=https://www.flickr.com/photos/143093443@N07/><img src="images/svg-icons/04-flickr.svg"></a></li>
              <li><a href=http://www.twitter.com/@_ChrisGreg><img src="images/svg-icons/03-twitter.svg"></a></li>
              <li><a href=https://www.linkedin.com/in/chrisgregori><img src="images/svg-icons/11-linkedin.svg"></a></li>
              <li><a href=https://www.facebook.com/chris.gregori.9><img src="images/svg-icons/06-facebook.svg"></a></li>
              <li><a href=https://www.instagram.com/chrisgregori__/><img src="images/svg-icons/38-instagram.svg"></a></li>
              <li><a href=https://medium.com/@chrisgregori/><img src="images/svg-icons/53-medium.svg"></a></li>
            </ul>
            <p class="copyright">	&copy; Chris Gregori 2016</p>
          </div>
        </div>
      </div>


    </div>
  </body>

  <script>
    var githubProjects = document.querySelector('.github-projects-title');
    if (typeof(githubProjects) != 'undefined' && githubProjects != null){
      populateGithubProjects();
    }

    function populateGithubProjects() {
      const root = 'https://api.github.com';

      fetch(root + '/users/chrisgreg/repos')
        .then(getRepos)
  			.then(renderMetaData)
        .then(getLanguageStats);

      function getRepos(response) {
        return response.json().then((json) => {
          var repos = formatRepos(json);
          return repos;
        })
      }

      function renderMetaData(repos) {
        var githubProjectsTitle = document.querySelector('.github-projects-title');
        githubProjectsTitle.innerHTML = 'Github Projects - ' + repos.length;
        return repos;
      }

      function getLanguageStats(repos) {
        var languages = Object.keys(repos).map(a => repos[a].language)
        var languageOccurances = new Map([...new Set(languages)].map(
          x => [x, languages.filter(y => y === x).length]
        ));
      }

      function formatRepos(json) {
        return json.map(repo => {
          return {
            id: repo.id,
            created_date: repo.created_at,
            url: repo.html_url,
            description: repo.description || 'No description available',
            name: repo.name,
            stars: repo.stargazers_count,
            watchers: repo.watchers,
            language: repo.language
          }
        }).sort((a,b) => {
          return new Date(b.created_date) - new Date(a.created_date);
        })
      }
    }
</script>

</html>
